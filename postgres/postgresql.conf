# PostgreSQL Development Optimized Configuration
# This configuration is optimized for development environments with limited resources

# Memory Settings (optimized for development)
shared_buffers = 64MB                   # Reduced from default 128MB
effective_cache_size = 256MB            # Reduced from default 4GB
work_mem = 2MB                          # Reduced from default 4MB
maintenance_work_mem = 32MB             # Reduced from default 64MB

# Connection Settings
max_connections = 20                    # Reduced from default 100 (sufficient for dev)
superuser_reserved_connections = 2

# Write Ahead Logging (WAL) Settings
wal_buffers = 4MB                       # Reduced from default 16MB
checkpoint_completion_target = 0.9      # Default is good
checkpoint_timeout = 10min              # Increased from 5min
max_wal_size = 256MB                    # Reduced from default 1GB
min_wal_size = 64MB                     # Reduced from default 80MB

# Performance Settings
random_page_cost = 1.1                  # Optimized for SSD
effective_io_concurrency = 200          # Good for SSD
default_statistics_target = 100         # Default is good

# Logging Settings (minimal for development)
logging_collector = off
log_destination = 'stderr'
log_min_messages = warning              # Only log warnings and errors
log_min_error_statement = error
log_min_duration_statement = 1000       # Log queries taking more than 1 second

# Autovacuum Settings (optimized for development)
autovacuum = on
autovacuum_max_workers = 2              # Reduced from default 3
autovacuum_naptime = 60s                # Default is good
autovacuum_vacuum_threshold = 50
autovacuum_analyze_threshold = 50

# Background Writer Settings
bgwriter_delay = 200ms                  # Default is good
bgwriter_lru_maxpages = 100             # Default is good
bgwriter_lru_multiplier = 2.0           # Default is good

# Query Planning
cpu_tuple_cost = 0.01                   # Default is good
cpu_index_tuple_cost = 0.005            # Default is good
cpu_operator_cost = 0.0025              # Default is good

# Other Settings
fsync = on                              # Keep for data safety even in dev
synchronous_commit = on                 # Keep for data safety
full_page_writes = on                   # Keep for data safety
